{% extends 'home/base.html' %}
{% block content %}
<!-- National Categories Section -->
 {% if category.name == 'National' %}
<div class="row mb-4" style="margin-top: 20px;">
  <div class="col-12">
    <div class="d-flex flex-wrap gap-2">
      <a href="{{ url_for('home_blueprint.category_posts', category_name='Nepal Security') }}" class="btn btn-outline-dark btn-sm" style="margin-left: 20px;">Nepal Security</a>
      <a href="{{ url_for('home_blueprint.category_posts', category_name='Gandaki Province') }}" class="btn btn-outline-dark btn-sm" style="margin-left: 20px;">Gandaki Province</a>
      <a href="{{ url_for('home_blueprint.category_posts', category_name='Koshi Province') }}" class="btn btn-outline-dark btn-sm" style="margin-left: 20px;">Koshi Province</a>
      <a href="{{ url_for('home_blueprint.category_posts', category_name='Bagmati Province') }}" class="btn btn-outline-dark btn-sm" style="margin-left: 20px;">Bagmati Province</a>
      <a href="{{ url_for('home_blueprint.category_posts', category_name='Madesh Province') }}" class="btn btn-outline-dark btn-sm" style="margin-left:20px;">Madesh Province</a>
      <a href="{{ url_for('home_blueprint.category_posts', category_name='Lumbini Province') }}" class="btn btn-outline-dark btn-sm" style="margin-left: 20px;">Lumbini Province</a>
      <a href="{{ url_for('home_blueprint.category_posts', category_name='Karnali Province') }}" class="btn btn-outline-dark btn-sm" style="margin-left: 20px;">Karnali Province</a>
    </div>
  </div>
</div>
{% endif %}

<!-- Valley Categories Section -->
 {% if category.name == 'Valley' %}
<div class="row mb-4" style="margin-top: 20px;">
  <div class="col-12">
    <div class="d-flex flex-wrap gap-2">
      <a href="{{ url_for('home_blueprint.category_posts', category_name='Kathmandu') }}" class="btn btn-outline-dark btn-sm" style="margin-left: 20px;">Kathmandu</a>
      <a href="{{ url_for('home_blueprint.category_posts', category_name='Lalitpur') }}" class="btn btn-outline-dark btn-sm" style="margin-left: 20px;">Lalitpur</a>
      <a href="{{ url_for('home_blueprint.category_posts', category_name='Bhaktapur') }}" class="btn btn-outline-dark btn-sm" style="margin-left: 20px;">Bhaktapur</a>
    </div>
  </div>
</div>
{% endif %}
<!-- Valley Categories Section -->
 {% if category.name == 'Sports' %}
<div class="row mb-4" style="margin-top: 20px;">
  <div class="col-12">
    <div class="d-flex flex-wrap gap-2">
      <a href="{{ url_for('home_blueprint.category_posts', category_name='Football') }}" class="btn btn-outline-dark btn-sm" style="margin-left: 20px;">Football</a>
      <a href="{{ url_for('home_blueprint.category_posts', category_name='Cricket') }}" class="btn btn-outline-dark btn-sm" style="margin-left: 20px;">Cricket</a>
      <a href="{{ url_for('home_blueprint.category_posts', category_name='International Sports') }}" class="btn btn-outline-dark btn-sm" style="margin-left: 20px;">International Sports</a>
    </div>
  </div>
</div>
{% endif %}
<!-- Valley Categories Section -->
 {% if category.name == 'Food' %}
<div class="row mb-4" style="margin-top: 20px;">
  <div class="col-12">
    <div class="d-flex flex-wrap gap-2">
      <a href="{{ url_for('home_blueprint.category_posts', category_name='Football') }}" class="btn btn-outline-dark btn-sm" style="margin-left: 20px;">Recipes</a>
    </div>
  </div>
</div>
{% endif %}
<!-- National Categories Section -->
 {% if category.name == 'Culture & Lifestyle' %}
<div class="row mb-4" style="margin-top: 20px;">
  <div class="col-12">
    <div class="d-flex flex-wrap gap-2">
      <a href="{{ url_for('home_blueprint.category_posts', category_name='Arts') }}" class="btn btn-outline-dark btn-sm" style="margin-left: 20px;">Arts</a>
      <a href="{{ url_for('home_blueprint.category_posts', category_name='Movies') }}" class="btn btn-outline-dark btn-sm" style="margin-left: 20px;">Movies</a>
      <a href="{{ url_for('home_blueprint.category_posts', category_name='Life & Style') }}" class="btn btn-outline-dark btn-sm" style="margin-left: 20px;">Life & Style</a>
      <a href="{{ url_for('home_blueprint.category_posts', category_name='Entertainment') }}" class="btn btn-outline-dark btn-sm" style="margin-left: 20px;">Entertainment</a>
      <a href="{{ url_for('home_blueprint.category_posts', category_name='Books') }}" class="btn btn-outline-dark btn-sm" style="margin-left:20px;">Books</a>
      <a href="{{ url_for('home_blueprint.category_posts', category_name='Fashion') }}" class="btn btn-outline-dark btn-sm" style="margin-left: 20px;">Fashion</a>
      <a href="{{ url_for('home_blueprint.category_posts', category_name='Theater') }}" class="btn btn-outline-dark btn-sm" style="margin-left: 20px;">Theater</a>
    </div>
  </div>
</div>
{% endif %}

<div class="row mb-3">
  <div class="col-md-8">
    <h4 style="margin-left:20px; color: red; text-transform: uppercase;">{{category.name}}</h4>
  </div>
  <div class="col-md-4 flex-start">
    <h4 style="color: red;">MOST READ</h4>
  </div>
</div>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
{% for message in get_flashed_messages() %}
    <div class="alert alert-warning alert-dismissible fade show" role="alert">
    {{ message }}
    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>
{% endfor %}
  <div class="row">
    <div class="col-md-8">
  {% for post in posts %}
 <div class="shadow p-3 mb-5 bg-body rounded">
<div class="row align-items-start">
<div class="col-md-8 md-2">
      <a href="{{ url_for('home_blueprint.post',id=post.id )}}" style="text-decoration: none; font-size:20px; font-weight:bold;color:black;">
  {{ post.title }}
</a> <br/>
By {{post.author.username }} <br/>
  {{ post.content|striptags|truncate(100) }}
  </div>
  <div class="col-md-4">
   {% if post.banner_image %}
 <img src="{{ url_for('static', filename='assets/img/' + post.banner_image.split('/')[-1])}}" alt="" width="100%" height="175">
 {% endif %}
  </div>
</div>
 </div>
{% endfor %}
</div>
<div class="col-md-4">
  {% for post in posts %}
    <div class="shadow-sm p-2 mb-3 bg-body rounded">  <!-- More compact -->
      <div class="row g-2 align-items-center">
        <div class="col-7">  <!-- Slightly narrower text column -->
          <a href="{{ url_for('home_blueprint.post', id=post.id)}}" class="text-decoration-none">
            <h6 class="fw-bold text-dark mb-1">{{ post.title }}</h6>  <!-- h6 instead of h5 -->
          </a>
        </div>
        <div class="col-5 text-end">  <!-- Slightly wider image column -->
          {% if post.banner_image %}
            <img src="{{ url_for('static', filename='assets/img/' + post.banner_image.split('/')[-1])}}" 
                 class="img-fluid rounded" 
                 style="max-height: 60px; width: auto; object-fit: cover;">
          {% endif %}
        </div>
      </div>
      <!-- <small class="text-muted d-block mt-1">By {{ post.author.username }}</small> -->
    </div>
  {% endfor %}
</div>
</div>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
     
{% endblock %}
